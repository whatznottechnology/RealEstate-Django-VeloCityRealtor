{% extends 'base.html' %}
{% load static %}
{% load theme_filters %}

{% block title %}VeloCity Realtor - Your Real Estate Partner{% endblock %}

{% block meta_description %}Find your dream property with VeloCity Realtor. Explore residential, commercial, land and investment properties in prime locations across India.{% endblock %}

{% block content %}
<!-- Hero Section -->
{% include 'components/hero.html' %}

<!-- Projects Section - Enhanced Responsive Horizontal Scrolling -->
<!-- Hot Deals Section -->
{% if hot_deal_projects %}
<section class="py-8 lg:py-12 bg-white">
    <!-- Enhanced Headline Section -->
    <div class="text-center mb-8 px-4 md:px-6 lg:px-8">
        <div class="flex items-center justify-center gap-4 mb-4">
            <h2 class="text-3xl md:text-4xl lg:text-5xl font-black tracking-tight text-black">
                HOT DEALS
            </h2>
            <span class="bg-red-600 text-white text-sm md:text-base px-3 py-2 md:px-4 md:py-2 rounded-full font-bold shadow-lg animate-pulse">
                LIMITED TIME
            </span>
        </div>
        <div class="w-24 h-1 bg-red-600 mx-auto mb-4"></div>
        <p class="text-lg md:text-xl text-gray-700 max-w-2xl mx-auto">
            Exclusive Properties with Unbeatable Prices
        </p>
    </div>
    
    <div class="w-full">
        <div class="w-full px-4 lg:px-8 relative">
            <!-- Navigation arrows - positioned absolutely for professional placement -->
            <div class="absolute top-1/2 -translate-y-1/2 left-2 z-10 hidden lg:block">
                <button onclick="scrollCarousel('hotdeals-carousel', -1)" class="carousel-scroll-btn bg-white/90 backdrop-blur-sm border border-gray-200 rounded-full p-3 hover:bg-white hover:border-red-600 hover:text-red-600 transition-all duration-300 shadow-lg hover:shadow-xl group">
                    <svg class="w-5 h-5 text-gray-600 group-hover:text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                    </svg>
                </button>
            </div>
            <div class="absolute top-1/2 -translate-y-1/2 right-2 z-10 hidden lg:block">
                <button onclick="scrollCarousel('hotdeals-carousel', 1)" class="carousel-scroll-btn bg-white/90 backdrop-blur-sm border border-gray-200 rounded-full p-3 hover:bg-white hover:border-red-600 hover:text-red-600 transition-all duration-300 shadow-lg hover:shadow-xl group">
                    <svg class="w-5 h-5 text-gray-600 group-hover:text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                    </svg>
                </button>
            </div>
            
            <div id="hotdeals-carousel" class="flex gap-4 lg:gap-6 overflow-x-auto scrollbar-hide scroll-snap-x pb-6">
                {% for project in hot_deal_projects %}
                    <div class="min-w-[280px] md:min-w-[320px] lg:min-w-[350px] max-w-[280px] md:max-w-[320px] lg:max-w-[350px] scroll-snap-start">
                        {% include 'components/search_property_card.html' %}
                    </div>
                {% endfor %}
            </div>

            <!-- Enhanced View All Button -->
            <div class="text-center mt-8">
                <a href="{% url 'theme:search_properties' %}?hot_deals=true" class="inline-flex items-center bg-red-600 hover:bg-red-700 text-white px-8 py-4 rounded-full text-lg font-bold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 relative overflow-hidden group">
                    <span class="relative z-10">Grab Hot Deals Now</span>
                    <i class="fas fa-arrow-right ml-3 relative z-10 group-hover:translate-x-1 transition-transform duration-300"></i>
                </a>
            </div>
        </div>
    </div>
</section>
{% endif %}

<!-- Premium Projects -->
{% if featured_projects %}
<section class="py-8 lg:py-12 bg-gray-50">
    <!-- Enhanced Headline Section -->
    <div class="text-center mb-8 px-4 md:px-6 lg:px-8">
        <h2 class="text-3xl md:text-4xl lg:text-5xl font-black mb-4 tracking-tight text-black">
            PREMIUM PROJECTS
        </h2>
        <div class="w-24 h-1 bg-red-600 mx-auto mb-4"></div>
        <p class="text-lg md:text-xl text-gray-700 max-w-2xl mx-auto">
            Handpicked Premium Properties for Discerning Buyers
        </p>
    </div>
    
    <div class="w-full">
        <div class="w-full px-4 lg:px-8 relative">
            <!-- Navigation arrows - positioned absolutely for professional placement -->
            <div class="absolute top-1/2 -translate-y-1/2 left-2 z-10 hidden lg:block">
                <button onclick="scrollCarousel('featured-carousel', -1)" class="carousel-scroll-btn bg-white/90 backdrop-blur-sm border border-gray-200 rounded-full p-3 hover:bg-white hover:border-red-600 hover:text-red-600 transition-all duration-300 shadow-lg hover:shadow-xl group">
                    <svg class="w-5 h-5 text-gray-600 group-hover:text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                    </svg>
                </button>
            </div>
            <div class="absolute top-1/2 -translate-y-1/2 right-2 z-10 hidden lg:block">
                <button onclick="scrollCarousel('featured-carousel', 1)" class="carousel-scroll-btn bg-white/90 backdrop-blur-sm border border-gray-200 rounded-full p-3 hover:bg-white hover:border-red-600 hover:text-red-600 transition-all duration-300 shadow-lg hover:shadow-xl group">
                    <svg class="w-5 h-5 text-gray-600 group-hover:text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                    </svg>
                </button>
            </div>
            
            <div id="featured-carousel" class="flex gap-4 lg:gap-6 overflow-x-auto scrollbar-hide scroll-snap-x pb-6">
                {% for project in featured_projects %}
                    <div class="min-w-[280px] md:min-w-[320px] lg:min-w-[350px] max-w-[280px] md:max-w-[320px] lg:max-w-[350px] scroll-snap-start">
                        {% include 'components/search_property_card.html' %}
                    </div>
                {% endfor %}
        </div>

        <!-- Enhanced View All Button -->
        <div class="text-center mt-8">
            <a href="{% url 'theme:search_properties' %}?featured=true" class="inline-flex items-center bg-red-600 hover:bg-red-700 text-white px-8 py-4 rounded-full text-lg font-bold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 relative overflow-hidden group">
                <span class="relative z-10">View All Premium Properties</span>
                <i class="fas fa-arrow-right ml-3 relative z-10 group-hover:translate-x-1 transition-transform duration-300"></i>
            </a>
        </div>
    </div>
</section>
{% endif %}

<!-- Projects by Category Section -->
<!-- Residential Projects -->
{% if residential_projects %}
<section class="py-8 lg:py-12 bg-gray-50">
    <!-- Enhanced Headline Section -->
    <div class="text-center mb-8 px-4 md:px-6 lg:px-8">
        <h2 class="text-3xl md:text-4xl lg:text-5xl font-black mb-4 tracking-tight text-black">
            RESIDENTIAL PROJECTS
        </h2>
        <div class="w-24 h-1 bg-red-600 mx-auto mb-4"></div>
        <p class="text-lg md:text-xl text-gray-700 max-w-2xl mx-auto">
            Find Your Perfect Home in Prime Residential Locations
        </p>
    </div>
    
    <div class="w-full">
        <div class="w-full px-4 lg:px-8 relative">
            <!-- Navigation arrows - positioned absolutely for professional placement -->
            <div class="absolute top-1/2 -translate-y-1/2 left-2 z-10 hidden lg:block">
                <button onclick="scrollCarousel('residential-carousel', -1)" class="carousel-scroll-btn bg-white/90 backdrop-blur-sm border border-gray-200 rounded-full p-3 hover:bg-white hover:border-red-600 hover:text-red-600 transition-all duration-300 shadow-lg hover:shadow-xl group">
                    <svg class="w-5 h-5 text-gray-600 group-hover:text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                    </svg>
                </button>
            </div>
            <div class="absolute top-1/2 -translate-y-1/2 right-2 z-10 hidden lg:block">
                <button onclick="scrollCarousel('residential-carousel', 1)" class="carousel-scroll-btn bg-white/90 backdrop-blur-sm border border-gray-200 rounded-full p-3 hover:bg-white hover:border-red-600 hover:text-red-600 transition-all duration-300 shadow-lg hover:shadow-xl group">
                    <svg class="w-5 h-5 text-gray-600 group-hover:text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                    </svg>
                </button>
            </div>
            
            <div id="residential-carousel" class="flex gap-4 lg:gap-6 overflow-x-auto scrollbar-hide scroll-snap-x pb-6">
                {% for project in residential_projects %}
                    <div class="min-w-[280px] md:min-w-[320px] lg:min-w-[350px] max-w-[280px] md:max-w-[320px] lg:max-w-[350px] scroll-snap-start">
                        {% include 'components/search_property_card.html' %}
                    </div>
                {% endfor %}
            </div>

            <!-- Enhanced View All Button -->
            <div class="text-center mt-8">
                <a href="{% url 'theme:search_properties' %}?category=residential" class="inline-flex items-center bg-red-600 hover:bg-red-700 text-white px-8 py-4 rounded-full text-lg font-bold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 relative overflow-hidden group">
                    <span class="relative z-10">View All Residential Properties</span>
                    <i class="fas fa-arrow-right ml-3 relative z-10 group-hover:translate-x-1 transition-transform duration-300"></i>
                </a>
            </div>
        </div>
    </div>
</section>
{% endif %}

<!-- Commercial Projects -->
{% if commercial_projects %}
<section class="py-8 lg:py-12 bg-white">
    <!-- Enhanced Headline Section -->
    <div class="text-center mb-8 px-4 md:px-6 lg:px-8">
        <h2 class="text-3xl md:text-4xl lg:text-5xl font-black mb-4 tracking-tight text-black">
            COMMERCIAL PROJECTS
        </h2>
        <div class="w-24 h-1 bg-red-600 mx-auto mb-4"></div>
        <p class="text-lg md:text-xl text-gray-700 max-w-2xl mx-auto">
            Premium Business Spaces for Your Growing Enterprise
        </p>
    </div>
    
    <div class="w-full">
        <div class="w-full px-4 lg:px-8 relative">
            <!-- Navigation arrows - positioned absolutely for professional placement -->
            <div class="absolute top-1/2 -translate-y-1/2 left-2 z-10 hidden lg:block">
                <button onclick="scrollCarousel('commercial-carousel', -1)" class="carousel-scroll-btn bg-white/90 backdrop-blur-sm border border-gray-200 rounded-full p-3 hover:bg-white hover:border-red-600 hover:text-red-600 transition-all duration-300 shadow-lg hover:shadow-xl group">
                    <svg class="w-5 h-5 text-gray-600 group-hover:text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                    </svg>
                </button>
            </div>
            <div class="absolute top-1/2 -translate-y-1/2 right-2 z-10 hidden lg:block">
                <button onclick="scrollCarousel('commercial-carousel', 1)" class="carousel-scroll-btn bg-white/90 backdrop-blur-sm border border-gray-200 rounded-full p-3 hover:bg-white hover:border-red-600 hover:text-red-600 transition-all duration-300 shadow-lg hover:shadow-xl group">
                    <svg class="w-5 h-5 text-gray-600 group-hover:text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                    </svg>
                </button>
            </div>
            
            <div id="commercial-carousel" class="flex gap-4 lg:gap-6 overflow-x-auto scrollbar-hide scroll-snap-x pb-6">
                {% for project in commercial_projects %}
                    <div class="min-w-[280px] md:min-w-[320px] lg:min-w-[350px] max-w-[280px] md:max-w-[320px] lg:max-w-[350px] scroll-snap-start">
                        {% include 'components/search_property_card.html' %}
                    </div>
                {% endfor %}
            </div>

            <!-- Enhanced View All Button -->
            <div class="text-center mt-8">
                <a href="{% url 'theme:search_properties' %}?category=commercial" class="inline-flex items-center bg-black hover:bg-gray-800 text-white px-8 py-4 rounded-full text-lg font-bold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 relative overflow-hidden group">
                    <span class="relative z-10">View All Commercial Properties</span>
                    <i class="fas fa-arrow-right ml-3 relative z-10 group-hover:translate-x-1 transition-transform duration-300"></i>
                </a>
            </div>
        </div>
    </div>
</section>
{% endif %}

<!-- Trending Projects -->
{% if trending_projects %}
<section class="py-8 lg:py-12 bg-gray-50">
    <!-- Enhanced Headline Section -->
    <div class="text-center mb-8 px-4 md:px-6 lg:px-8">
        <div class="flex items-center justify-center gap-4 mb-4">
            <h2 class="text-3xl md:text-4xl lg:text-5xl font-black tracking-tight text-black">
                TRENDING PROJECTS
            </h2>
            <span class="bg-green-600 text-white text-sm md:text-base px-3 py-2 md:px-4 md:py-2 rounded-full font-bold shadow-lg">
                Villa & Bungalow
            </span>
        </div>
        <div class="w-24 h-1 bg-red-600 mx-auto mb-4"></div>
        <p class="text-lg md:text-xl text-gray-700 max-w-2xl mx-auto">
            Most Viewed and Sought-After Properties This Month
        </p>
    </div>
    
    <div class="w-full">
        <div class="w-full px-4 lg:px-8 relative">
            <!-- Navigation arrows - positioned absolutely for professional placement -->
            <div class="absolute top-1/2 -translate-y-1/2 left-2 z-10 hidden lg:block">
                <button onclick="scrollCarousel('trending-carousel', -1)" class="carousel-scroll-btn bg-white/90 backdrop-blur-sm border border-gray-200 rounded-full p-3 hover:bg-white hover:border-red-600 hover:text-red-600 transition-all duration-300 shadow-lg hover:shadow-xl group">
                    <svg class="w-5 h-5 text-gray-600 group-hover:text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                    </svg>
                </button>
            </div>
            <div class="absolute top-1/2 -translate-y-1/2 right-2 z-10 hidden lg:block">
                <button onclick="scrollCarousel('trending-carousel', 1)" class="carousel-scroll-btn bg-white/90 backdrop-blur-sm border border-gray-200 rounded-full p-3 hover:bg-white hover:border-red-600 hover:text-red-600 transition-all duration-300 shadow-lg hover:shadow-xl group">
                    <svg class="w-5 h-5 text-gray-600 group-hover:text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                    </svg>
                </button>
            </div>
            
            <div id="trending-carousel" class="flex gap-4 lg:gap-6 overflow-x-auto scrollbar-hide scroll-snap-x pb-6">
                {% for project in trending_projects %}
                    <div class="min-w-[280px] md:min-w-[320px] lg:min-w-[350px] max-w-[280px] md:max-w-[320px] lg:max-w-[350px] scroll-snap-start">
                        {% include 'components/search_property_card.html' %}
                    </div>
                {% endfor %}
            </div>

            <!-- Enhanced View All Button -->
            <div class="text-center mt-8">
                <a href="{% url 'theme:search_properties' %}?sort=views" class="inline-flex items-center bg-black hover:bg-gray-800 text-white px-8 py-4 rounded-full text-lg font-bold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 relative overflow-hidden group">
                    <span class="relative z-10">View Trending Properties</span>
                    <i class="fas fa-arrow-right ml-3 relative z-10 group-hover:translate-x-1 transition-transform duration-300"></i>
                </a>
            </div>
        </div>
    </div>
</section>
{% endif %}

<!-- Most Viewed Section -->
{% if trending_projects %}
<section class="py-8 lg:py-12 bg-white">
    <!-- Enhanced Headline Section -->
    <div class="text-center mb-8 px-4 md:px-6 lg:px-8">
        <h2 class="text-3xl md:text-4xl lg:text-5xl font-black mb-4 tracking-tight text-black">
            MOST VIEWED
        </h2>
        <div class="w-24 h-1 bg-red-600 mx-auto mb-4"></div>
        <p class="text-lg md:text-xl text-gray-700 max-w-2xl mx-auto">
            Properties That Attract the Most Attention
        </p>
    </div>
    
    <div class="w-full">
        <div class="w-full px-4 lg:px-8 relative">
            <!-- Navigation arrows - positioned absolutely for professional placement -->
            <div class="absolute top-1/2 -translate-y-1/2 left-2 z-10 hidden lg:block">
                <button onclick="scrollCarousel('mostviewed-carousel', -1)" class="carousel-scroll-btn bg-white/90 backdrop-blur-sm border border-gray-200 rounded-full p-3 hover:bg-white hover:border-red-600 hover:text-red-600 transition-all duration-300 shadow-lg hover:shadow-xl group">
                    <svg class="w-5 h-5 text-gray-600 group-hover:text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                    </svg>
                </button>
            </div>
            <div class="absolute top-1/2 -translate-y-1/2 right-2 z-10 hidden lg:block">
                <button onclick="scrollCarousel('mostviewed-carousel', 1)" class="carousel-scroll-btn bg-white/90 backdrop-blur-sm border border-gray-200 rounded-full p-3 hover:bg-white hover:border-red-600 hover:text-red-600 transition-all duration-300 shadow-lg hover:shadow-xl group">
                    <svg class="w-5 h-5 text-gray-600 group-hover:text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                    </svg>
                </button>
            </div>
            
            <div id="mostviewed-carousel" class="flex gap-4 lg:gap-6 overflow-x-auto scrollbar-hide scroll-snap-x pb-6">
                {% for project in trending_projects %}
                    <div class="min-w-[280px] md:min-w-[320px] lg:min-w-[350px] max-w-[280px] md:max-w-[320px] lg:max-w-[350px] scroll-snap-start">
                        {% include 'components/search_property_card.html' %}
                    </div>
                {% endfor %}
            </div>

            <!-- Enhanced View All Button -->
            <div class="text-center mt-8">
                <a href="{% url 'theme:search_properties' %}?sort=views" class="inline-flex items-center bg-red-600 hover:bg-red-700 text-white px-8 py-4 rounded-full text-lg font-bold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 relative overflow-hidden group">
                    <span class="relative z-10">View Most Popular Properties</span>
                    <i class="fas fa-arrow-right ml-3 relative z-10 group-hover:translate-x-1 transition-transform duration-300"></i>
                </a>
            </div>
        </div>
    </div>
</section>
{% endif %}

<!-- Recently Viewed Section -->
{% if recently_viewed_projects %}
<section class="py-8 lg:py-12 bg-gray-50">
    <!-- Enhanced Headline Section -->
    <div class="text-center mb-8 px-4 md:px-6 lg:px-8">
        <h2 class="text-3xl md:text-4xl lg:text-5xl font-black mb-4 tracking-tight text-black">
            RECENTLY VIEWED
        </h2>
        <div class="w-24 h-1 bg-red-600 mx-auto mb-4"></div>
        <p class="text-lg md:text-xl text-gray-700 max-w-2xl mx-auto">
            Properties you recently viewed
        </p>
    </div>
    
    <div class="w-full">
        <div class="w-full px-4 lg:px-8 relative">
        
        <!-- Navigation arrows - positioned absolutely for professional placement -->
        <div class="absolute top-1/2 -translate-y-1/2 left-2 z-10 hidden lg:block">
            <button onclick="scrollCarousel('recent-carousel', -1)" class="carousel-scroll-btn bg-white/90 backdrop-blur-sm border border-gray-200 rounded-full p-3 hover:bg-white hover:border-red-600 hover:text-red-600 transition-all duration-300 shadow-lg hover:shadow-xl group">
                <svg class="w-5 h-5 text-gray-600 group-hover:text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                </svg>
            </button>
        </div>
        <div class="absolute top-1/2 -translate-y-1/2 right-2 z-10 hidden lg:block">
            <button onclick="scrollCarousel('recent-carousel', 1)" class="carousel-scroll-btn bg-white/90 backdrop-blur-sm border border-gray-200 rounded-full p-3 hover:bg-white hover:border-red-600 hover:text-red-600 transition-all duration-300 shadow-lg hover:shadow-xl group">
                <svg class="w-5 h-5 text-gray-600 group-hover:text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                </svg>
            </button>
        </div>
        
        <div id="recent-carousel" class="flex gap-4 lg:gap-6 overflow-x-auto scrollbar-hide scroll-snap-x pb-6">
            {% for project in recently_viewed_projects %}
                <div class="min-w-[280px] md:min-w-[320px] lg:min-w-[350px] max-w-[280px] md:max-w-[320px] lg:max-w-[350px] scroll-snap-start">
                    {% include 'components/search_property_card.html' %}
                </div>
            {% endfor %}
        </div>

        <!-- Enhanced View All Button -->
        <div class="text-center mt-8">
            <a href="{% url 'theme:search_properties' %}?sort=newest" class="inline-flex items-center bg-black hover:bg-gray-800 text-white px-8 py-4 rounded-full text-lg font-bold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105">
                <i class="fas fa-clock mr-2"></i>
                View Latest Properties
                <i class="fas fa-arrow-right ml-2"></i>
            </a>
        </div>
    </div>
</section>
{% endif %}

<!-- Properties for Sale Section -->
{% if sell_projects %}
<section class="py-8 lg:py-12 bg-white">
    <!-- Enhanced Headline Section -->
    <div class="text-center mb-8 px-4 md:px-6 lg:px-8">
        <div class="flex items-center justify-center gap-4 mb-4">
            <h2 class="text-3xl md:text-4xl lg:text-5xl font-black tracking-tight text-black">
                PROPERTIES FOR SALE
            </h2>
            <span class="bg-emerald-600 text-white text-sm md:text-base px-3 py-2 md:px-4 md:py-2 rounded-full font-bold shadow-lg">
                <i class="fas fa-tags mr-1"></i>For Sale
            </span>
        </div>
        <div class="w-24 h-1 bg-red-600 mx-auto mb-4"></div>
        <p class="text-lg md:text-xl text-gray-700 max-w-2xl mx-auto">
            Premium Properties Available for Purchase
        </p>
    </div>
    
    <div class="w-full">
        <div class="w-full px-4 lg:px-8 relative">
            <!-- Navigation arrows -->
            <div class="absolute top-1/2 -translate-y-1/2 left-2 z-10 hidden lg:block">
                <button onclick="scrollCarousel('sell-carousel', -1)" class="carousel-scroll-btn bg-white/90 backdrop-blur-sm border border-gray-200 rounded-full p-3 hover:bg-white hover:border-red-600 hover:text-red-600 transition-all duration-300 shadow-lg hover:shadow-xl group">
                    <svg class="w-5 h-5 text-gray-600 group-hover:text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                    </svg>
                </button>
            </div>
            <div class="absolute top-1/2 -translate-y-1/2 right-2 z-10 hidden lg:block">
                <button onclick="scrollCarousel('sell-carousel', 1)" class="carousel-scroll-btn bg-white/90 backdrop-blur-sm border border-gray-200 rounded-full p-3 hover:bg-white hover:border-red-600 hover:text-red-600 transition-all duration-300 shadow-lg hover:shadow-xl group">
                    <svg class="w-5 h-5 text-gray-600 group-hover:text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                    </svg>
                </button>
            </div>
            
            <div id="sell-carousel" class="flex gap-4 lg:gap-6 overflow-x-auto scrollbar-hide scroll-snap-x pb-6">
                {% for project in sell_projects %}
                    <div class="min-w-[280px] md:min-w-[320px] lg:min-w-[350px] max-w-[280px] md:max-w-[320px] lg:max-w-[350px] scroll-snap-start">
                        {% include 'components/search_property_card.html' %}
                    </div>
                {% endfor %}
            </div>

            <!-- Enhanced View All Button -->
            <div class="text-center mt-8">
                <a href="{% url 'theme:search_properties' %}?marketing_type=sell" class="inline-flex items-center bg-emerald-600 hover:bg-emerald-700 text-white px-8 py-4 rounded-full text-lg font-bold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 relative overflow-hidden group">
                    <i class="fas fa-tags mr-3 relative z-10"></i>
                    <span class="relative z-10">View All Properties for Sale</span>
                    <i class="fas fa-arrow-right ml-3 relative z-10 group-hover:translate-x-1 transition-transform duration-300"></i>
                </a>
            </div>
        </div>
    </div>
</section>
{% endif %}

<!-- Properties for Rent Section -->
{% if rent_projects %}
<section class="py-8 lg:py-12 bg-gray-50">
    <!-- Enhanced Headline Section -->
    <div class="text-center mb-8 px-4 md:px-6 lg:px-8">
        <div class="flex items-center justify-center gap-4 mb-4">
            <h2 class="text-3xl md:text-4xl lg:text-5xl font-black tracking-tight text-black">
                PROPERTIES FOR RENT
            </h2>
            <span class="bg-blue-600 text-white text-sm md:text-base px-3 py-2 md:px-4 md:py-2 rounded-full font-bold shadow-lg">
                <i class="fas fa-home mr-1"></i>For Rent
            </span>
        </div>
        <div class="w-24 h-1 bg-red-600 mx-auto mb-4"></div>
        <p class="text-lg md:text-xl text-gray-700 max-w-2xl mx-auto">
            Quality Rental Properties for Your Next Home
        </p>
    </div>
    
    <div class="w-full">
        <div class="w-full px-4 lg:px-8 relative">
            <!-- Navigation arrows -->
            <div class="absolute top-1/2 -translate-y-1/2 left-2 z-10 hidden lg:block">
                <button onclick="scrollCarousel('rent-carousel', -1)" class="carousel-scroll-btn bg-white/90 backdrop-blur-sm border border-gray-200 rounded-full p-3 hover:bg-white hover:border-red-600 hover:text-red-600 transition-all duration-300 shadow-lg hover:shadow-xl group">
                    <svg class="w-5 h-5 text-gray-600 group-hover:text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                    </svg>
                </button>
            </div>
            <div class="absolute top-1/2 -translate-y-1/2 right-2 z-10 hidden lg:block">
                <button onclick="scrollCarousel('rent-carousel', 1)" class="carousel-scroll-btn bg-white/90 backdrop-blur-sm border border-gray-200 rounded-full p-3 hover:bg-white hover:border-red-600 hover:text-red-600 transition-all duration-300 shadow-lg hover:shadow-xl group">
                    <svg class="w-5 h-5 text-gray-600 group-hover:text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                    </svg>
                </button>
            </div>
            
            <div id="rent-carousel" class="flex gap-4 lg:gap-6 overflow-x-auto scrollbar-hide scroll-snap-x pb-6">
                {% for project in rent_projects %}
                    <div class="min-w-[280px] md:min-w-[320px] lg:min-w-[350px] max-w-[280px] md:max-w-[320px] lg:max-w-[350px] scroll-snap-start">
                        {% include 'components/search_property_card.html' %}
                    </div>
                {% endfor %}
            </div>

            <!-- Enhanced View All Button -->
            <div class="text-center mt-8">
                <a href="{% url 'theme:search_properties' %}?marketing_type=rent" class="inline-flex items-center bg-blue-600 hover:bg-blue-700 text-white px-8 py-4 rounded-full text-lg font-bold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 relative overflow-hidden group">
                    <i class="fas fa-home mr-3 relative z-10"></i>
                    <span class="relative z-10">View All Properties for Rent</span>
                    <i class="fas fa-arrow-right ml-3 relative z-10 group-hover:translate-x-1 transition-transform duration-300"></i>
                </a>
            </div>
        </div>
    </div>
</section>
{% endif %}

<!-- Properties for Lease Section -->
{% if lease_projects %}
<section class="py-8 lg:py-12 bg-white">
    <!-- Enhanced Headline Section -->
    <div class="text-center mb-8 px-4 md:px-6 lg:px-8">
        <div class="flex items-center justify-center gap-4 mb-4">
            <h2 class="text-3xl md:text-4xl lg:text-5xl font-black tracking-tight text-black">
                PROPERTIES FOR LEASE
            </h2>
            <span class="bg-purple-600 text-white text-sm md:text-base px-3 py-2 md:px-4 md:py-2 rounded-full font-bold shadow-lg">
                <i class="fas fa-handshake mr-1"></i>For Lease
            </span>
        </div>
        <div class="w-24 h-1 bg-red-600 mx-auto mb-4"></div>
        <p class="text-lg md:text-xl text-gray-700 max-w-2xl mx-auto">
            Long-term Commercial & Residential Lease Opportunities
        </p>
    </div>
    
    <div class="w-full">
        <div class="w-full px-4 lg:px-8 relative">
            <!-- Navigation arrows -->
            <div class="absolute top-1/2 -translate-y-1/2 left-2 z-10 hidden lg:block">
                <button onclick="scrollCarousel('lease-carousel', -1)" class="carousel-scroll-btn bg-white/90 backdrop-blur-sm border border-gray-200 rounded-full p-3 hover:bg-white hover:border-red-600 hover:text-red-600 transition-all duration-300 shadow-lg hover:shadow-xl group">
                    <svg class="w-5 h-5 text-gray-600 group-hover:text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                    </svg>
                </button>
            </div>
            <div class="absolute top-1/2 -translate-y-1/2 right-2 z-10 hidden lg:block">
                <button onclick="scrollCarousel('lease-carousel', 1)" class="carousel-scroll-btn bg-white/90 backdrop-blur-sm border border-gray-200 rounded-full p-3 hover:bg-white hover:border-red-600 hover:text-red-600 transition-all duration-300 shadow-lg hover:shadow-xl group">
                    <svg class="w-5 h-5 text-gray-600 group-hover:text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                    </svg>
                </button>
            </div>
            
            <div id="lease-carousel" class="flex gap-4 lg:gap-6 overflow-x-auto scrollbar-hide scroll-snap-x pb-6">
                {% for project in lease_projects %}
                    <div class="min-w-[280px] md:min-w-[320px] lg:min-w-[350px] max-w-[280px] md:max-w-[320px] lg:max-w-[350px] scroll-snap-start">
                        {% include 'components/search_property_card.html' %}
                    </div>
                {% endfor %}
            </div>

            <!-- Enhanced View All Button -->
            <div class="text-center mt-8">
                <a href="{% url 'theme:search_properties' %}?marketing_type=lease" class="inline-flex items-center bg-purple-600 hover:bg-purple-700 text-white px-8 py-4 rounded-full text-lg font-bold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 relative overflow-hidden group">
                    <i class="fas fa-handshake mr-3 relative z-10"></i>
                    <span class="relative z-10">View All Properties for Lease</span>
                    <i class="fas fa-arrow-right ml-3 relative z-10 group-hover:translate-x-1 transition-transform duration-300"></i>
                </a>
            </div>
        </div>
    </div>
</section>
{% endif %}

<!-- Brochure Download CTA Section -->
<section class="py-8 lg:py-12 bg-black text-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center">
            <!-- Icon and Headline -->
            <div class="mb-8">
                <div class="inline-flex items-center justify-center w-20 h-20 bg-red-600 rounded-full mb-6">
                    <i class="fas fa-download text-3xl text-white"></i>
                </div>
                <h2 class="text-3xl md:text-4xl lg:text-5xl font-black text-white mb-6 tracking-tight">
                    FREE BROCHURE DOWNLOAD
                </h2>
                <div class="w-24 h-1 bg-red-600 mx-auto mb-6"></div>
            </div>
            
            <!-- Description -->
            <div class="max-w-4xl mx-auto mb-12">
                <p class="text-lg md:text-xl text-gray-300 mb-6 leading-relaxed">
                    Get our comprehensive property catalog with detailed information about all our 
                    premium projects, floor plans, and investment opportunities
                </p>
                <p class="text-base md:text-lg text-gray-400 leading-relaxed">
                    Discover your dream property with our beautifully designed digital brochure featuring 
                    high-resolution images, detailed specifications, and exclusive offers.
                </p>
            </div>
            
            <!-- Features Grid -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto mb-12">
                <div class="bg-gray-800 rounded-2xl p-6 border border-gray-700 hover:bg-gray-700 transition-all duration-300 group">
                    <div class="inline-flex items-center justify-center w-16 h-16 bg-red-600 rounded-full mb-4 group-hover:scale-110 transition-transform duration-300">
                        <i class="fas fa-home text-2xl text-white"></i>
                    </div>
                    <h3 class="text-xl font-bold text-white mb-2">All Projects</h3>
                    <p class="text-gray-300">Complete details of residential, commercial & investment properties</p>
                </div>
                
                <div class="bg-gray-800 rounded-2xl p-6 border border-gray-700 hover:bg-gray-700 transition-all duration-300 group">
                    <div class="inline-flex items-center justify-center w-16 h-16 bg-red-600 rounded-full mb-4 group-hover:scale-110 transition-transform duration-300">
                        <i class="fas fa-map text-2xl text-white"></i>
                    </div>
                    <h3 class="text-xl font-bold text-white mb-2">Floor Plans</h3>
                    <p class="text-gray-300">Detailed architectural drawings and layout designs</p>
                </div>
                
                <div class="bg-gray-800 rounded-2xl p-6 border border-gray-700 hover:bg-gray-700 transition-all duration-300 group">
                    <div class="inline-flex items-center justify-center w-16 h-16 bg-red-600 rounded-full mb-4 group-hover:scale-110 transition-transform duration-300">
                        <i class="fas fa-tags text-2xl text-white"></i>
                    </div>
                    <h3 class="text-xl font-bold text-white mb-2">Special Offers</h3>
                    <p class="text-gray-300">Exclusive deals and limited-time promotional pricing</p>
                </div>
            </div>
            
            <!-- Download Buttons -->
            <div class="flex flex-col sm:flex-row items-center justify-center gap-6">
                <!-- Primary Download Button -->
                <a href="#" onclick="downloadBrochure('complete')" class="group relative inline-flex items-center bg-red-600 hover:bg-red-700 text-white px-8 py-5 rounded-full text-lg font-bold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 overflow-hidden">
                    <div class="relative z-10 flex items-center">
                        <i class="fas fa-download mr-3"></i>
                        <span>Download Complete Brochure</span>
                        <i class="fas fa-arrow-right ml-3 group-hover:translate-x-1 transition-transform duration-300"></i>
                    </div>
                </a>
                
                <!-- Secondary Download Button -->
                <a href="#" onclick="downloadBrochure('quick')" class="group relative inline-flex items-center bg-white text-black border-2 border-white hover:bg-gray-100 px-8 py-5 rounded-full text-lg font-bold transition-all duration-300">
                    <i class="fas fa-file-pdf mr-3 text-red-600"></i>
                    <span>Quick Overview PDF</span>
                    <i class="fas fa-external-link-alt ml-3 text-sm group-hover:translate-x-1 transition-transform duration-300"></i>
                </a>
            </div>
            
            <!-- Trust Indicators -->
            <div class="flex flex-col sm:flex-row items-center justify-center gap-8 mt-12 pt-8 border-t border-gray-700">
                <div class="flex items-center text-gray-300">
                    <i class="fas fa-shield-alt text-red-600 mr-2"></i>
                    <span class="text-sm">100% Secure Download</span>
                </div>
                <div class="flex items-center text-gray-300">
                    <i class="fas fa-clock text-red-600 mr-2"></i>
                    <span class="text-sm">Instant Access</span>
                </div>
                <div class="flex items-center text-gray-300">
                    <i class="fas fa-envelope text-red-600 mr-2"></i>
                    <span class="text-sm">No Spam Guaranteed</span>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Our Onboarded Developers Section -->
{% include 'components/developers_section.html' %}

<!-- Why Choose Us Section -->
{% include 'components/why_choose_us.html' %}

<!-- Client Reviews Section -->
{% include 'components/reviews.html' %}

<!-- Call to Action Section -->
{% include 'components/cta_section.html' %}

{% endblock %}

{% block extra_css %}
<style>
    /* Enhanced Scrollbar Hide */
    .scrollbar-hide {
        -ms-overflow-style: none;
        scrollbar-width: none;
        scroll-behavior: smooth;
    }
    .scrollbar-hide::-webkit-scrollbar {
        display: none;
    }

    /* Enhanced scroll snap for better UX */
    .scroll-snap-x {
        scroll-snap-type: x mandatory;
        scroll-padding: 0 1rem;
    }
    .scroll-snap-start {
        scroll-snap-align: start;
        scroll-margin-left: 1rem;
    }

    /* Advanced Animations */
    @keyframes blob {
        0% { transform: translate(0px, 0px) scale(1); }
        33% { transform: translate(30px, -50px) scale(1.1); }
        66% { transform: translate(-20px, 20px) scale(0.9); }
        100% { transform: translate(0px, 0px) scale(1); }
    }
    .animate-blob {
        animation: blob 7s infinite;
    }
    .animation-delay-2000 {
        animation-delay: 2s;
    }
    .animation-delay-4000 {
        animation-delay: 4s;
    }

    /* Enhanced pulse animation */
    @keyframes enhanced-pulse {
        0%, 100% { 
            opacity: 1;
            transform: scale(1);
        }
        50% { 
            opacity: 0.7;
            transform: scale(1.05);
        }
    }
    .animate-enhanced-pulse {
        animation: enhanced-pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
    }

    /* Advanced gradient animations */
    @keyframes gradient-shift {
        0% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
    }
    .animate-gradient {
        background-size: 200% 200%;
        animation: gradient-shift 4s ease infinite;
    }

    /* Carousel Indicators */
    .indicator-dot {
        width: 8px;
        height: 8px;
        border-radius: 50%;
        background-color: #e5e7eb;
        transition: all 0.3s ease;
        cursor: pointer;
    }
    .indicator-dot.active {
        background-color: #dc2626;
        transform: scale(1.2);
    }

    /* Enhanced Tab functionality */
    .tab-button.tab-active {
        background: linear-gradient(135deg, #dc2626, #b91c1c) !important;
        color: white !important;
        border-color: #dc2626 !important;
        box-shadow: 0 4px 12px rgba(220, 38, 38, 0.25);
        transform: translateY(-1px);
    }
    .tab-button.tab-inactive {
        background-color: rgba(255, 255, 255, 0.9);
        color: #374151;
        border-color: #e5e7eb;
        transition: all 0.3s ease;
    }
    .tab-button.tab-inactive:hover {
        background-color: #f3f4f6;
        transform: translateY(-1px);
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }

    /* Enhanced Property card effects */
    .property-card {
        transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        position: relative;
        overflow: hidden;
    }
    .property-card:hover {
        transform: translateY(-6px) scale(1.02);
        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.15), 0 12px 24px -8px rgba(0, 0, 0, 0.1);
    }
    .property-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
        transition: left 0.6s;
        z-index: 1;
    }
    .property-card:hover::before {
        left: 100%;
    }

    /* Enhanced Carousel button styles */
    .carousel-scroll-btn {
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        backdrop-filter: blur(8px);
        -webkit-backdrop-filter: blur(8px);
        position: relative;
        z-index: 10;
    }
    .carousel-scroll-btn:hover {
        transform: scale(1.1) translateY(-2px);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
    }
    .carousel-scroll-btn:active {
        transform: scale(0.95) translateY(0);
    }

    /* Line clamping for better text overflow */
    .line-clamp-1 {
        display: -webkit-box;
        -webkit-line-clamp: 1;
        line-clamp: 1;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }
    .line-clamp-2 {
        display: -webkit-box;
        -webkit-line-clamp: 2;
        line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }

    /* Enhanced cursor interaction for draggable carousels */
    [id$="-carousel"] {
        cursor: grab;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
    }
    [id$="-carousel"]:active,
    [id$="-carousel"].cursor-grabbing {
        cursor: grabbing;
    }

    /* Badge enhancements with better blur effects */
    .property-card .absolute span {
        backdrop-filter: blur(12px);
        -webkit-backdrop-filter: blur(12px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }

    /* Price formatting with better typography */
    .property-card .text-red-600 {
        font-weight: 700;
        letter-spacing: -0.025em;
        text-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
    }

    /* Background patterns for visual interest */
    .bg-pattern {
        background-image: 
            radial-gradient(circle at 2px 2px, rgba(255,255,255,0.15) 1px, transparent 0);
        background-size: 40px 40px;
    }

    /* Enhanced Responsive Design */
    @media (max-width: 480px) {
        /* Extra small mobile phones */
        .property-card {
            min-width: 260px !important;
            max-width: 280px !important;
        }
        
        .property-card img {
            height: 180px !important;
        }
        
        .carousel-scroll-btn {
            width: 28px !important;
            height: 28px !important;
            min-width: 28px !important;
        }
        
        .py-8 {
            padding-top: 1.5rem !important;
            padding-bottom: 1.5rem !important;
        }
    }

    @media (min-width: 481px) and (max-width: 640px) {
        /* Small mobile phones */
        .property-card {
            min-width: 280px !important;
            max-width: 300px !important;
        }
        
        .property-card img {
            height: 200px !important;
        }
        
        .carousel-scroll-btn {
            width: 32px !important;
            height: 32px !important;
            min-width: 32px !important;
        }
    }

    @media (min-width: 641px) and (max-width: 768px) {
        /* Tablets portrait */
        .property-card {
            min-width: 300px !important;
            max-width: 320px !important;
        }
        
        .property-card img {
            height: 220px !important;
        }
        
        .carousel-scroll-btn {
            width: 36px !important;
            height: 36px !important;
            min-width: 36px !important;
        }
    }

    @media (min-width: 769px) and (max-width: 1024px) {
        /* Tablets landscape */
        .property-card {
            min-width: 320px !important;
            max-width: 340px !important;
        }
        
        .property-card img {
            height: 240px !important;
        }
        
        .carousel-scroll-btn {
            width: 40px !important;
            height: 40px !important;
            min-width: 40px !important;
        }
    }

    @media (min-width: 1025px) and (max-width: 1440px) {
        /* Small to medium desktops */
        .property-card {
            min-width: 360px !important;
            max-width: 380px !important;
        }
        
        .property-card img {
            height: 260px !important;
        }
        
        .carousel-scroll-btn {
            width: 44px !important;
            height: 44px !important;
            min-width: 44px !important;
        }
    }

    @media (min-width: 1441px) {
        /* Large desktops and 4K */
        .property-card {
            min-width: 400px !important;
            max-width: 420px !important;
        }
        
        .property-card img {
            height: 280px !important;
        }
        
        .carousel-scroll-btn {
            width: 48px !important;
            height: 48px !important;
            min-width: 48px !important;
        }
    }

    /* Mac specific optimizations */
    @media screen and (-webkit-min-device-pixel-ratio: 2) {
        .property-card {
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        .carousel-scroll-btn {
            border-width: 0.5px;
        }
        
        .property-card .absolute span {
            border-width: 0.5px;
        }
    }

    /* Enhanced scroll performance */
    .carousel-container {
        scroll-behavior: smooth;
        -webkit-overflow-scrolling: touch;
        transform: translateZ(0);
        will-change: scroll-position;
    }

    /* Better button hover states with theme colors */
    .carousel-scroll-btn:hover {
        background-color: rgba(255, 255, 255, 0.95) !important;
        backdrop-filter: blur(12px);
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    /* Enhanced property card hover effects with smooth transitions */
    .property-card:hover {
        transform: translateY(-4px) scale(1.01);
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.12);
        transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    }

    /* Better badge positioning and effects */
    .property-card .absolute {
        z-index: 15;
    }

    /* Improved gradient overlays for better readability */
    .bg-gradient-to-t {
        background: linear-gradient(to top, rgba(0, 0, 0, 0.8) 0%, rgba(0, 0, 0, 0.4) 40%, transparent 100%);
    }

    /* Enhanced focus states for accessibility */
    .carousel-scroll-btn:focus {
        outline: 2px solid #dc2626;
        outline-offset: 2px;
    }

    .property-card:focus-within {
        outline: 2px solid #dc2626;
        outline-offset: 4px;
    }

    /* Enhanced loading states */
    .property-card.loading {
        opacity: 0.7;
        pointer-events: none;
    }

    .property-card.loading::after {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        width: 24px;
        height: 24px;
        margin: -12px 0 0 -12px;
        border: 2px solid #f3f3f3;
        border-top: 2px solid #dc2626;
        border-radius: 50%;
        animation: spin 1s linear infinite;
        z-index: 20;
    }

    @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }

    /* Section transitions */
    section {
        opacity: 1;
        transform: translateY(0);
        transition: all 0.6s ease-out;
    }

    section.fade-in {
        opacity: 0;
        transform: translateY(20px);
    }

    /* Enhanced text readability */
    @media (prefers-color-scheme: dark) {
        .property-card {
            background-color: #1f2937;
            color: #f9fafb;
        }
        
        .carousel-scroll-btn {
            background-color: rgba(31, 41, 55, 0.8);
            border-color: #374151;
        }
    }
</style>
{% endblock %}
{% block extra_js %}
<script>
    // Enhanced Tab switching functionality for hero section
    const tabButtons = document.querySelectorAll('.tab-button');
    const filterForms = document.querySelectorAll('.filter-form');

    function switchTab(activeTab) {
        tabButtons.forEach(btn => {
            if (btn.dataset.tab === activeTab) {
                btn.classList.remove('tab-inactive');
                btn.classList.add('tab-active');
            } else {
                btn.classList.remove('tab-active');
                btn.classList.add('tab-inactive');
            }
        });
        filterForms.forEach(form => {
            if (form.id === `${activeTab}-form`) {
                form.classList.remove('hidden');
            } else {
                form.classList.add('hidden');
            }
        });
    }

    // Add enhanced click handlers with smooth transitions
    tabButtons.forEach(btn => {
        btn.addEventListener('click', (e) => {
            e.preventDefault();
            switchTab(btn.dataset.tab);
            
            // Add ripple effect
            const ripple = document.createElement('span');
            const rect = btn.getBoundingClientRect();
            const size = Math.max(rect.width, rect.height);
            const x = e.clientX - rect.left - size / 2;
            const y = e.clientY - rect.top - size / 2;
            
            ripple.style.cssText = `
                position: absolute;
                width: ${size}px;
                height: ${size}px;
                left: ${x}px;
                top: ${y}px;
                background: rgba(255, 255, 255, 0.3);
                border-radius: 50%;
                transform: scale(0);
                animation: ripple 0.6s linear;
                pointer-events: none;
            `;
            
            btn.style.position = 'relative';
            btn.style.overflow = 'hidden';
            btn.appendChild(ripple);
            
            setTimeout(() => ripple.remove(), 600);
        });
    });

    // Enhanced More Filters toggle functionality
    function setupMoreFiltersToggle(btnId, iconId) {
        const btn = document.getElementById(btnId);
        const icon = document.getElementById(iconId);
        const advancedFilters = document.getElementById('advanced-filters-residential');
        
        if (btn && icon && advancedFilters) {
            btn.addEventListener('click', (event) => {
                event.preventDefault();
                event.stopPropagation();
                
                const isHidden = advancedFilters.classList.contains('hidden');
                const spanElement = btn.querySelector('span');
                const originalText = spanElement.textContent;
                
                if (isHidden) {
                    advancedFilters.classList.remove('hidden');
                    advancedFilters.style.opacity = '0';
                    advancedFilters.style.transform = 'translateY(-10px)';
                    setTimeout(() => {
                        advancedFilters.style.opacity = '1';
                        advancedFilters.style.transform = 'translateY(0)';
                    }, 10);
                    icon.style.transform = 'rotate(180deg)';
                    
                    // Set appropriate "less" text based on original text
                    if (originalText.includes('More Filters')) {
                        spanElement.textContent = 'Less Filters';
                    } else {
                        spanElement.textContent = 'Less';
                    }
                } else {
                    advancedFilters.style.opacity = '0';
                    advancedFilters.style.transform = 'translateY(-10px)';
                    setTimeout(() => {
                        advancedFilters.classList.add('hidden');
                    }, 300);
                    icon.style.transform = '';
                    
                    // Restore appropriate "more" text based on button type
                    if (btnId.includes('mobile')) {
                        spanElement.textContent = 'More Filters';
                    } else {
                        spanElement.textContent = 'More';
                    }
                }
            });
        }
    }
    
    setupMoreFiltersToggle('more-filters-residential-desktop', 'more-filters-icon-residential-desktop');
    setupMoreFiltersToggle('more-filters-residential-mobile', 'more-filters-icon-residential-mobile');

    // Enhanced Carousel Scroll Function with device-specific optimization
    function scrollCarousel(carouselId, direction) {
        const carousel = document.getElementById(carouselId);
        if (!carousel) return;
        
        // Dynamic scroll amount based on screen size and device type
        let scrollAmount;
        const screenWidth = window.innerWidth;
        const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
        const isMac = navigator.platform.toUpperCase().indexOf('MAC') >= 0;
        
        if (screenWidth < 481) {
            scrollAmount = isMobile ? 270 : 280; // Extra small mobile
        } else if (screenWidth < 641) {
            scrollAmount = isMobile ? 290 : 300; // Small mobile
        } else if (screenWidth < 769) {
            scrollAmount = 320; // Tablet portrait
        } else if (screenWidth < 1025) {
            scrollAmount = 350; // Tablet landscape
        } else if (screenWidth < 1441) {
            scrollAmount = isMac ? 380 : 370; // Desktop
        } else {
            scrollAmount = isMac ? 420 : 410; // Large desktop/4K
        }
        
        // Enhanced smooth scrolling with easing
        const startPos = carousel.scrollLeft;
        const targetPos = startPos + (direction * scrollAmount);
        const distance = targetPos - startPos;
        const duration = 600; // ms
        let startTime = null;
        
        function animateScroll(currentTime) {
            if (startTime === null) startTime = currentTime;
            const timeElapsed = currentTime - startTime;
            const progress = Math.min(timeElapsed / duration, 1);
            
            // Easing function for smooth acceleration/deceleration
            const easeInOutCubic = progress < 0.5 
                ? 4 * progress * progress * progress 
                : 1 - Math.pow(-2 * progress + 2, 3) / 2;
            
            carousel.scrollLeft = startPos + (distance * easeInOutCubic);
            
            if (progress < 1) {
                requestAnimationFrame(animateScroll);
            } else {
                updateCarouselIndicators(carouselId);
            }
        }
        
        requestAnimationFrame(animateScroll);
        
        // Add haptic feedback for mobile devices
        if (isMobile && 'vibrate' in navigator) {
            navigator.vibrate(50);
        }
    }

    // Enhanced carousel indicators system
    function updateCarouselIndicators(carouselId) {
        const carousel = document.getElementById(carouselId);
        const indicatorsContainer = document.getElementById(`${carouselId}-indicators`);
        
        if (!carousel || !indicatorsContainer) return;
        
        const scrollLeft = carousel.scrollLeft;
        const cardWidth = parseFloat(getComputedStyle(carousel.firstElementChild).width) + 24; // including gap
        const activeIndex = Math.round(scrollLeft / cardWidth);
        
        const indicators = indicatorsContainer.querySelectorAll('.indicator-dot');
        indicators.forEach((indicator, index) => {
            if (index === activeIndex) {
                indicator.classList.add('active');
            } else {
                indicator.classList.remove('active');
            }
        });
    }

    // Create indicators for mobile carousels
    function createCarouselIndicators() {
        document.querySelectorAll('[id$="-carousel"]').forEach(carousel => {
            const carouselId = carousel.id;
            const indicatorsContainer = document.getElementById(`${carouselId}-indicators`);
            
            if (indicatorsContainer && window.innerWidth < 640) {
                const itemCount = carousel.children.length;
                const visibleItems = Math.floor(carousel.offsetWidth / (carousel.firstElementChild.offsetWidth + 24));
                const indicatorCount = Math.max(1, itemCount - visibleItems + 1);
                
                indicatorsContainer.innerHTML = '';
                for (let i = 0; i < indicatorCount; i++) {
                    const dot = document.createElement('div');
                    dot.className = 'indicator-dot';
                    if (i === 0) dot.classList.add('active');
                    
                    dot.addEventListener('click', () => {
                        const targetScroll = i * (carousel.firstElementChild.offsetWidth + 24);
                        carousel.scrollTo({ left: targetScroll, behavior: 'smooth' });
                    });
                    
                    indicatorsContainer.appendChild(dot);
                }
            }
        });
    }

    // Enhanced intersection observer for lazy loading and animations
    function setupIntersectionObserver() {
        const observerOptions = {
            root: null,
            rootMargin: '50px 0px',
            threshold: 0.1
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const element = entry.target;
                    
                    // Fade in sections
                    if (element.classList.contains('fade-in')) {
                        element.classList.remove('fade-in');
                    }
                    
                    // Load images
                    const images = element.querySelectorAll('img[data-src]');
                    images.forEach(img => {
                        img.src = img.dataset.src;
                        img.removeAttribute('data-src');
                    });
                }
            });
        }, observerOptions);

        // Observe all sections and property cards
        document.querySelectorAll('section, .property-card').forEach(el => {
            observer.observe(el);
        });
    }

    // Enhanced touch and drag support for carousels
    function setupTouchSupport() {
        document.querySelectorAll('[id$="-carousel"]').forEach(carousel => {
            let startX = 0;
            let scrollLeft = 0;
            let isDown = false;
            let hasMoved = false;

            // Mouse events
            carousel.addEventListener('mousedown', (e) => {
                isDown = true;
                hasMoved = false;
                carousel.classList.add('cursor-grabbing');
                startX = e.pageX - carousel.offsetLeft;
                scrollLeft = carousel.scrollLeft;
                e.preventDefault();
            });

            carousel.addEventListener('mouseleave', () => {
                isDown = false;
                carousel.classList.remove('cursor-grabbing');
            });

            carousel.addEventListener('mouseup', () => {
                isDown = false;
                carousel.classList.remove('cursor-grabbing');
                
                // Update indicators after dragging
                setTimeout(() => updateCarouselIndicators(carousel.id), 100);
            });

            carousel.addEventListener('mousemove', (e) => {
                if (!isDown) return;
                e.preventDefault();
                hasMoved = true;
                const x = e.pageX - carousel.offsetLeft;
                const walk = (x - startX) * 2;
                carousel.scrollLeft = scrollLeft - walk;
            });

            // Touch events for mobile
            carousel.addEventListener('touchstart', (e) => {
                startX = e.touches[0].pageX - carousel.offsetLeft;
                scrollLeft = carousel.scrollLeft;
                hasMoved = false;
            }, { passive: true });

            carousel.addEventListener('touchmove', (e) => {
                if (!startX) return;
                hasMoved = true;
                const x = e.touches[0].pageX - carousel.offsetLeft;
                const walk = (x - startX) * 1.5;
                carousel.scrollLeft = scrollLeft - walk;
            }, { passive: true });

            carousel.addEventListener('touchend', () => {
                startX = 0;
                if (hasMoved) {
                    setTimeout(() => updateCarouselIndicators(carousel.id), 100);
                }
            }, { passive: true });

            // Prevent click events when dragging
            carousel.addEventListener('click', (e) => {
                if (hasMoved) {
                    e.preventDefault();
                    e.stopPropagation();
                }
            }, true);
        });
    }

    // Enhanced keyboard navigation
    function setupKeyboardNavigation() {
        document.addEventListener('keydown', function(e) {
            if (e.target.closest('[id$="-carousel"]')) {
                const carousel = e.target.closest('[id$="-carousel"]');
                const carouselId = carousel.id;
                
                switch(e.key) {
                    case 'ArrowLeft':
                        e.preventDefault();
                        scrollCarousel(carouselId, -1);
                        break;
                    case 'ArrowRight':
                        e.preventDefault();
                        scrollCarousel(carouselId, 1);
                        break;
                    case 'Home':
                        e.preventDefault();
                        carousel.scrollTo({ left: 0, behavior: 'smooth' });
                        break;
                    case 'End':
                        e.preventDefault();
                        carousel.scrollTo({ left: carousel.scrollWidth, behavior: 'smooth' });
                        break;
                }
            }
        });
    }

    // Enhanced visibility toggle for scroll buttons
    function setupScrollButtonVisibility() {
        function toggleScrollButtons() {
            const isSmallScreen = window.innerWidth < 640;
            document.querySelectorAll('.carousel-scroll-btn').forEach(btn => {
                btn.style.display = isSmallScreen ? 'none' : 'flex';
            });
        }
        
        window.addEventListener('resize', debounce(toggleScrollButtons, 100));
        toggleScrollButtons();
    }

    // Debounce function for performance
    function debounce(func, wait) {
        let timeout;
        return function executedFunction(...args) {
            const later = () => {
                clearTimeout(timeout);
                func(...args);
            };
            clearTimeout(timeout);
            timeout = setTimeout(later, wait);
        };
    }

    // Performance optimization for scroll events
    function setupPerformanceOptimizations() {
        // Throttle scroll events for better performance
        const throttledScrollHandler = throttle((carousel) => {
            updateCarouselIndicators(carousel.id);
        }, 100);

        document.querySelectorAll('[id$="-carousel"]').forEach(carousel => {
            carousel.addEventListener('scroll', () => throttledScrollHandler(carousel), { passive: true });
        });
    }

    // Throttle function
    function throttle(func, limit) {
        let inThrottle;
        return function() {
            const args = arguments;
            const context = this;
            if (!inThrottle) {
                func.apply(context, args);
                inThrottle = true;
                setTimeout(() => inThrottle = false, limit);
            }
        }
    }

    // Add ripple animation styles
    const rippleStyles = document.createElement('style');
    rippleStyles.textContent = `
        @keyframes ripple {
            to {
                transform: scale(4);
                opacity: 0;
            }
        }
    `;
    document.head.appendChild(rippleStyles);

    // Enhanced initialization when DOM is loaded
    document.addEventListener('DOMContentLoaded', function() {
        // Initialize default hero tab
        switchTab('residential');

        // Setup all enhancements
        setupIntersectionObserver();
        setupTouchSupport();
        setupKeyboardNavigation();
        setupScrollButtonVisibility();
        setupPerformanceOptimizations();
        
        // Create indicators for mobile
        createCarouselIndicators();
        
        // Handle window resize for responsive updates
        let resizeTimeout;
        window.addEventListener('resize', () => {
            clearTimeout(resizeTimeout);
            resizeTimeout = setTimeout(() => {
                createCarouselIndicators();
                
                // Update all carousel indicators
                document.querySelectorAll('[id$="-carousel"]').forEach(carousel => {
                    updateCarouselIndicators(carousel.id);
                });
            }, 250);
        });

        // Preload images for better performance
        const imageObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const img = entry.target;
                    if (img.dataset.src) {
                        img.src = img.dataset.src;
                        img.removeAttribute('data-src');
                        imageObserver.unobserve(img);
                    }
                }
            });
        }, {
            rootMargin: '50px 0px'
        });

        document.querySelectorAll('img[data-src]').forEach(img => {
            imageObserver.observe(img);
        });

        // Initialize all indicators
        document.querySelectorAll('[id$="-carousel"]').forEach(carousel => {
            updateCarouselIndicators(carousel.id);
        });

        // Add focus management for better accessibility
        document.querySelectorAll('.carousel-scroll-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                const carousel = btn.closest('section').querySelector('[id$="-carousel"]');
                if (carousel) {
                    carousel.focus();
                }
            });
        });

        // Enhanced error handling for images
        document.querySelectorAll('img').forEach(img => {
            img.addEventListener('error', function() {
                this.src = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZGRkIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzk5OSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPk5vIEltYWdlPC90ZXh0Pjwvc3ZnPg==';
                this.alt = 'Image not available';
            });
        });

        console.log('Enhanced responsive home page initialized successfully! ');
    });

    // Brochure Download Function
    function downloadBrochure(type) {
        // Show loading state
        event.preventDefault();
        const button = event.target.closest('a');
        const originalContent = button.innerHTML;
        
        // Update button to show loading
        button.innerHTML = `
            <div class="relative z-10 flex items-center">
                <i class="fas fa-spinner fa-spin mr-3"></i>
                <span>Preparing Download...</span>
            </div>
        `;
        button.style.pointerEvents = 'none';
        
        // Simulate download preparation (replace with actual download logic)
        setTimeout(() => {
            if (type === 'complete') {
                // For complete brochure - using existing brochure file
                const link = document.createElement('a');
                link.href = '/static/files/brochure.pdf';
                link.download = 'VeloCity-Properties-Complete-Brochure.pdf';
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                
                // Show success message
                showDownloadNotification('Complete brochure downloaded successfully!', 'success');
            } else if (type === 'quick') {
                // For quick overview - using same brochure file (you can create a separate quick overview file)
                const link = document.createElement('a');
                link.href = '/static/files/brochure.pdf';
                link.download = 'VeloCity-Properties-Quick-Overview.pdf';
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                
                // Show success message
                showDownloadNotification('Quick overview downloaded successfully!', 'success');
            }
            
            // Restore button
            button.innerHTML = originalContent;
            button.style.pointerEvents = 'auto';
            
            // Optional: Track download event (for analytics)
            if (typeof gtag !== 'undefined') {
                gtag('event', 'download', {
                    'event_category': 'engagement',
                    'event_label': type + '_brochure',
                    'value': 1
                });
            }
            
        }, 2000); // 2 second delay for demonstration
    }
    
    // Show download notification
    function showDownloadNotification(message, type) {
        // Create notification element
        const notification = document.createElement('div');
        notification.className = `fixed top-4 right-4 z-[45] p-4 rounded-lg shadow-lg transform translate-x-full transition-transform duration-300 ${
            type === 'success' ? 'bg-green-500 text-white' : 'bg-red-500 text-white'
        }`;
        notification.innerHTML = `
            <div class="flex items-center">
                <i class="fas fa-${type === 'success' ? 'check-circle' : 'exclamation-circle'} mr-3"></i>
                <span>${message}</span>
                <button onclick="this.parentElement.parentElement.remove()" class="ml-4 text-white hover:text-gray-200">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        `;
        
        // Add to page
        document.body.appendChild(notification);
        
        // Animate in
        setTimeout(() => {
            notification.style.transform = 'translateX(0)';
        }, 100);
        
        // Auto-remove after 5 seconds
        setTimeout(() => {
            notification.style.transform = 'translateX(full)';
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.parentNode.removeChild(notification);
                }
            }, 300);
        }, 5000);
    }
</script>
{% endblock %}
